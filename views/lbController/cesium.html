<head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">
    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Cesium / ID: {{=request.args(0)}}</title>
    <script src="{{=URL("static","cesium/Build/Cesium/Cesium.js")}}"></script>

    <style>
        @import url({{=URL("static","cesium/Build/Cesium/Widgets/widgets.css")}});

        html, body, #cesiumContainer {
            font-family: "Source Sans Pro", "Segoe UI", Arial, Geneva, sans-serif;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #toolbar {
            display: block;
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(42, 42, 42, 0.8);
            padding: 4px;
            border-radius: 4px;
        }

        #toolbar input {
            vertical-align: middle;
            padding-top: 2px;
            padding-bottom: 2px;
        }
    </style>
    <style>
        @import url({{=URL("static","cesium/Apps/Sandcastle/templates/bucket.css")}});
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

</head>
<body>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
<div id="cesiumContainer" class="fullSize"></div>
<div id="loadingOverlay"><h1>Loading...</h1></div>
<div id="target"></div>
<div id="toolbar">
    <h1><font color="white" size="5"> Link Budget Visualiser</font></h1>
    <!--<button onclick="alert('You clicked!');">Click me!</button>
    <button type="button" class="button1 clickable">Toggle</button>
    <table>
        <tbody><tr>
            <td><font color="white" face="verdana" size="2">Adjust Colour</font></td>
            <td>
                <input type="range" min="270" max="290" step="0.02" data-bind="value: , valueUpdate: 'input'">
                <input type="text" size="5" data-bind="value: brightness">
            </td>
        </tr>
    </tbody></table>-->
    <table>
        <tbody data-bind="foreach: layers">
        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showSATCheckbox"></td>
            <td><font color="white" size="3">Satellites </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>
        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showFOVCheckbox"></td>
            <td><font color="white" size="3">Satellite Cone </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>

        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showFOVCIRCLECheckbox"></td>
            <td><font color="white" size="3">Satellite FOV Circles </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>


        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showTRSPCheckbox"></td>
            <td><font color="white" size="3">Transponder FOV </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>

        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showGWCheckbox"></td>
            <td><font color="white" size="3">Gateways </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>
        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showVSATCheckbox"></td>
            <td><font color="white" size="3">EIRP </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>
        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showELEVATIONCheckbox"></td>
            <td><font color="white" size="3">Elevation </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>

        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="showSAT_GPTCheckbox"></td>
            <td><font color="white" size="3">SAT_GPT </font>
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>

        <tr data-bind="css: { up: $parent.upLayer === $data, down: $parent.downLayer === $data }">
            <td><input type="checkbox" id="centreCheckbox"></td>
            <td><font color="white" size="3">Centre on SATs (dev) </font>
                <!--<span data-bind="text: name, visible: !$parent.isSelectableLayer($data)"></span>
                <select data-bind="visible: $parent.isSelectableLayer($data), options: $parent.baseLayers, optionsText: 'name', value: $parent.selectedLayer"></select>-->
            </td>
            <td>
                <input type="range" min="0" max="1" step="0.01" data-bind="value: alpha, valueUpdate: 'input'">
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.raise($data, $index()); }, visible: $parent.canRaise($index())">
                    ▲
                </button>
            </td>
            <td>
                <button type="button" class="cesium-button"
                        data-bind="click: function() { $parent.lower($data, $index()); }, visible: $parent.canLower($index())">
                    ▼
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>

    <script src="{{=URL("static","js/lbcesium.js")}}" type="text/javascript", geo_json_vsat = "{{=URL('lbController', 'get_geojson',args=[request.args(0)])}}",
        geojson_sat = "{{=URL('lbController', 'get_geojson_sat',args=[request.args(0)])}}",
        geojson_gw = "{{=URL('lbController', 'get_geojson_gw',args=[request.args(0)])}}",
        geojson_FOV = "{{=URL('lbController', 'get_geojson_FOV',args=[request.args(0)])}}",
        geojson_FOV_circle = "{{=URL('lbController', 'get_geojson_FOV_CIRCLE',args=[request.args(0)])}}",
        geojson_TRSP_FOV = "{{=URL('lbController', 'get_geojson_TRSP_FOV_CIRCLE',args=[request.args(0)])}}",
        satellite_img = "{{=URL("static","satellite1.gif")}}",
        ground_station_img = "{{=URL("static","facility.gif")}}">
    </script>

</body>
